(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(e,t,a){"use strict";a.r(t),a.d(t,"AdminModule",(function(){return P}));var s=a("MrqI"),c=a("tk/3"),r=a("tyNb"),i=a("VQQV");class n{constructor(e,t,a,s,c,r,i,n){this.DisplayName=e,this.UserName=t,this.SecretKey=a,this.UserAmount=s,this.UserRole=c,this.UserGroup=r,this.IsAdmin=i,this.UsersFutureBets=n}}var o=a("fXoL"),b=a("uzAD"),l=a("dNgK"),d=a("3Pt+");let u=(()=>{class e{constructor(e,t){this.bettingService=e,this.snackBar=t,this.addUser=e=>{let t=new n(e.value.username,e.value.username,e.value.password,100,+e.value.role,e.value.usergroup);this.bettingService.addUser(t).subscribe(t=>{this.openSnackBar("User added successful!","Ok"),this.resetFormData(e)},t=>{this.openSnackBar("Error occured. Please retry!","Ok"),this.resetFormData(e)})},this.resetFormData=e=>{e.resetForm()}}ngOnInit(){}openSnackBar(e,t){this.snackBar.open(e,t,{duration:1e4})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(b.a),o.Ob(l.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-add-user"]],decls:36,vars:1,consts:[[1,"container"],[1,"row"],[1,"col"],[3,"ngSubmit"],["formRef","ngForm"],[1,"form-group"],["for","username"],["type","text","ngModel","","required","","name","username","id","username","maxlength","23",1,"form-control"],["for","password"],["type","text","ngModel","","required","","name","password","id","password","maxlength","23",1,"form-control"],["for","usergroup"],["type","text","ngModel","","name","usergroup","id","usergroup","maxlength","32",1,"form-control"],["for","role"],["ngModel","","required","","id","role","name","role",1,"form-control"],["value","1"],["value","2"],["value","3"],["type","submit",1,"btn","btn-warning","btn-lg","w-100-pc",3,"disabled"],["aria-hidden","true",1,"fa","fa-user"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"form",3,4),o.bc("ngSubmit",(function(){o.mc(e);const a=o.lc(4);return t.addUser(a)})),o.Tb(5,"div",5),o.Tb(6,"label",6),o.uc(7,"User Name:"),o.Sb(),o.Pb(8,"input",7),o.Sb(),o.Pb(9,"br"),o.Tb(10,"div",5),o.Tb(11,"label",8),o.uc(12,"Password:"),o.Sb(),o.Pb(13,"input",9),o.Sb(),o.Pb(14,"br"),o.Tb(15,"div",5),o.Tb(16,"label",10),o.uc(17,"User Group:"),o.Sb(),o.Pb(18,"input",11),o.Sb(),o.Pb(19,"br"),o.Tb(20,"div",5),o.Tb(21,"label",12),o.uc(22,"Select the User Role:"),o.Sb(),o.Tb(23,"select",13),o.Tb(24,"option",14),o.uc(25,"User"),o.Sb(),o.Tb(26,"option",15),o.uc(27,"Admin"),o.Sb(),o.Tb(28,"option",16),o.uc(29,"Tester"),o.Sb(),o.Sb(),o.Sb(),o.Pb(30,"br"),o.Tb(31,"div",5),o.Tb(32,"button",17),o.Tb(33,"i",18),o.uc(34,"\xa0 Add User"),o.Sb(),o.Sb(),o.Sb(),o.Pb(35,"br"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=o.lc(4);o.Bb(32),o.gc("disabled",e.invalid)}},directives:[d.n,d.g,d.h,d.a,d.f,d.i,d.k,d.d,d.l,d.j,d.m],styles:[".w-100-pc[_ngcontent-%COMP%]{width:100%}"]}),e})();var m=a("ofXK");class h{constructor(e,t,a,s,c,r,i,n,o,b,l){this.MatchId=e,this.Result=t,this.IsMatchAbandoned=a,this.MatchDateTime=s,this.TeamIdA=c,this.TeamIdB=r,this.TeamAShortName=i,this.TeamBShortName=n,this.Place=o,this.DisplayDate=b,this.DisableBettingForMatch=l}}var p=a("1vIg"),f=a("kmnG"),g=a("d3UM"),S=a("FKr1");function v(e,t){if(1&e&&(o.Tb(0,"mat-option",18),o.Pb(1,"img",19),o.uc(2),o.Pb(3,"img",19),o.Pb(4,"img",19),o.uc(5),o.Pb(6,"img",20),o.uc(7),o.Sb()),2&e){const e=t.$implicit;o.gc("value",e.MatchId),o.Bb(1),o.ic("src","../../assets/icons/",e.TeamAShortName,".png",o.oc),o.Bb(1),o.wc(" ",e.TeamAShortName," "),o.Bb(1),o.gc("src",e.DisableBettingForMatch?"../../assets/icons/betfire.png":"../../assets/icons/fire.gif",o.oc),o.Bb(1),o.ic("src","../../assets/icons/",e.TeamBShortName,".png",o.oc),o.Bb(1),o.wc(" ",e.TeamBShortName," "),o.Bb(2),o.wc(" ",e.DisplayDate," ")}}function T(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"p"),o.uc(2,"Match played in \xa0"),o.Pb(3,"i",21),o.uc(4,"\xa0 "),o.Tb(5,"span",22),o.uc(6),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.dc();o.Bb(6),o.vc(e.selectedMatch.Place)}}function B(e,t){if(1&e&&(o.Tb(0,"mat-option",18),o.Pb(1,"img",19),o.uc(2),o.Sb()),2&e){const e=o.dc();o.hc("value",e.selectedMatch.TeamIdA),o.Bb(1),o.ic("src","../../assets/icons/",e.selectedMatch.TeamAShortName,".png",o.oc),o.Bb(1),o.wc(" ",e.selectedMatch.TeamAShortName,"")}}function M(e,t){if(1&e&&(o.Tb(0,"mat-option",18),o.Pb(1,"img",19),o.uc(2),o.Sb()),2&e){const e=o.dc();o.hc("value",e.selectedMatch.TeamIdB),o.Bb(1),o.ic("src","../../assets/icons/",e.selectedMatch.TeamBShortName,".png",o.oc),o.Bb(1),o.wc(" ",e.selectedMatch.TeamBShortName,"")}}const w=[{path:"addUser",component:u,canActivate:[i.a]},{path:"updateResult",component:(()=>{class e{constructor(e,t){this.bettingService=e,this.snackBar=t,this.matchDetails=[],this.betAmounts=[10,20,50,100],this.loadMatchDetails=()=>{this.bettingService.getAdminMatchDetails().subscribe(e=>{this.formatResponse(e)},e=>{console.log(e),this.openSnackBar("Error occured. Please retry!","Ok")})},this.resetFormData=e=>{e.resetForm(),this.selectedMatch=null},this.updateResult=e=>{var t=new h(this.selectedMatch.MatchId,+e.value.team,0==+e.value.team);this.bettingService.updateMatchResult(t).subscribe(t=>{this.openSnackBar("Result Updated successful!","Ok"),this.loadMatchDetails(),this.resetFormData(e)},t=>{this.openSnackBar("Error occured. Please retry!","Ok"),this.resetFormData(e)})},this.removeAllBets=()=>{this.bettingService.removeAllBets().subscribe(e=>{this.openSnackBar("Removed All Bets","Ok")},e=>{this.openSnackBar("Error occured. Please retry!","Ok")})}}ngOnInit(){this.loadMatchDetails()}formatResponse(e){e.forEach(e=>{e.DisplayDate=Object(m.r)(e.MatchDateTime,p.a.DateFormat,"en-US")}),this.matchDetails=e}onMatchSelected(e){this.selectedMatch=this.matchDetails.find(t=>t.MatchId===+e)}openSnackBar(e,t){this.snackBar.open(e,t,{duration:1e4})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(b.a),o.Ob(l.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-update-result"]],decls:33,vars:6,consts:[[1,"container"],[1,"row"],[1,"col"],[3,"ngSubmit"],["formRef","ngForm"],["appearance","fill",2,"width","100%"],["name","match","ngModel","","id","match","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","team","ngModel","","id","team","required","",3,"disabled"],[3,"value",4,"ngIf"],["value","0"],[1,"form-group"],["type","submit",1,"btn","btn-danger","btn-lg","w-100-pc",3,"disabled"],["aria-hidden","true",1,"fa","fa-usd"],[1,"row",2,"margin-top","50px"],["type","button",1,"btn","btn-danger","btn-lg","w-100-pc",3,"click"],["aria-hidden","true",1,"fa","fa-delete"],[3,"value"],["width","20","height","20",1,"img-fluid",3,"src"],["width","15","height","15","src","../../assets/icons/date.svg",1,"img-fluid"],["aria-hidden","true",1,"fa","fa-play"],[2,"color","purple"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"form",3,4),o.bc("ngSubmit",(function(){o.mc(e);const a=o.lc(4);return t.updateResult(a)})),o.Tb(5,"div"),o.Tb(6,"mat-form-field",5),o.Tb(7,"mat-label"),o.uc(8,"Select the MATCH to Update Result"),o.Sb(),o.Tb(9,"mat-select",6),o.bc("selectionChange",(function(){o.mc(e);const a=o.lc(4);return t.onMatchSelected(a.value.match)})),o.tc(10,v,8,7,"mat-option",7),o.Sb(),o.Sb(),o.Sb(),o.tc(11,T,7,1,"div",8),o.Pb(12,"br"),o.Tb(13,"div"),o.Tb(14,"mat-form-field",5),o.Tb(15,"mat-label"),o.uc(16,"Result!! BE CAREFUL"),o.Sb(),o.Tb(17,"mat-select",9),o.tc(18,B,3,3,"mat-option",10),o.tc(19,M,3,3,"mat-option",10),o.Tb(20,"mat-option",11),o.uc(21,"No Result"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Pb(22,"br"),o.Tb(23,"div",12),o.Tb(24,"button",13),o.Tb(25,"i",14),o.uc(26,"\xa0Update Result"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(27,"div",15),o.Tb(28,"div",2),o.Tb(29,"div",12),o.Tb(30,"button",16),o.bc("click",(function(){return t.removeAllBets()})),o.Tb(31,"i",17),o.uc(32,"\xa0Delete All bets of Users"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=o.lc(4);o.Bb(10),o.gc("ngForOf",t.matchDetails),o.Bb(1),o.gc("ngIf",!!t.selectedMatch),o.Bb(6),o.gc("disabled",!t.selectedMatch),o.Bb(1),o.gc("ngIf",!!t.selectedMatch),o.Bb(1),o.gc("ngIf",!!t.selectedMatch),o.Bb(5),o.gc("disabled",e.invalid)}},directives:[d.n,d.g,d.h,f.b,f.e,g.a,d.f,d.i,d.k,m.i,m.j,S.f],styles:[".w-100-pc[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[i.a]}];let k=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[r.c.forChild(w)],r.c]}),e})();var D=a("JqCM");let P=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},providers:[{provide:c.a,useClass:s.a,multi:!0}],imports:[[k,d.c,c.c,D.b,g.b,l.b,m.b]]}),e})()}}]);